(this.webpackJsonpxs=this.webpackJsonpxs||[]).push([[0],[,,,function(e,t,a){e.exports={coverContainer:"Cover_coverContainer__3VnZD",cover:"Cover_cover__3ATXf",mainImage:"Cover_mainImage__3dZYe",authorGlass:"Cover_authorGlass__vE_cr",author:"Cover_author__3WMZ0",name:"Cover_name__1IktC",palaroid:"Cover_palaroid__1P_s_"}},,function(e,t,a){e.exports={image:"Image_image__zDIeC",color:"Image_color__2n8JU",input:"Image_input__2swoh"}},function(e,t,a){e.exports={text:"Text_text__2j0Pp",editor:"Text_editor__26-y1"}},,,,,function(e,t,a){e.exports={glass:"Glass_glass__3N3oE"}},function(e,t,a){e.exports={print:"App_print__3t3vp"}},,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),i=(a(19),a(2)),u=a(1),s=a(3),l=a.n(s),m=a(6),f=a.n(m),v=a(4),g=a.n(v);function p(e){var t=e.text,a=e.onSave,c=e.className,o=Object(n.useState)(t.text),s=Object(u.a)(o,2),l=s[0],m=s[1],v=Object(n.useState)(!1),p=Object(u.a)(v,2),d=p[0],_=p[1],h=Object(n.useRef)(document.createElement("input"));return Object(n.useEffect)((function(){d&&h.current.focus()}),[d]),r.a.createElement("span",{className:g()(f.a.text,c),onContextMenu:function(e){e.stopPropagation(),e.preventDefault(),d||_(!0)},style:{color:t.color}},t.text,d&&r.a.createElement("div",{className:f.a.editor},r.a.createElement("input",{ref:h,onChange:function(e){var t=e.target;m(t.value)},value:l,onBlur:function(){m(t.text),_(!1)},onKeyDown:function(e){switch(e.key){case"Enter":a&&a(Object(i.a)({},t,{text:l})),_(!1);break;case"Escape":m(t.text),_(!1);break;default:return}_(!1)}})))}var d=a(5),_=a.n(d),h=function(e){var t=e.image,a=e.color,c=e.children,o=e.className,i=e.onChange,s=Object(n.useRef)(document.createElement("input")),l=Object(n.useMemo)((function(){return new FileReader}),[]);function m(e){var t=Object(u.a)(e.target.files,1)[0];t&&l.readAsDataURL(t)}return l.onload=function(e){i&&i(l.result)},Object(n.useEffect)((function(){return s.current.addEventListener("change",m),function(){s.current.removeEventListener("change",m)}}),[]),r.a.createElement("div",{className:g()(o,_.a.image),style:{backgroundImage:"url(".concat(t,")")},onContextMenu:function(e){e.stopPropagation(),e.preventDefault(),s.current.click()}},r.a.createElement("input",{ref:s,type:"file",accept:"image/png, image/jpeg",className:_.a.input}),a&&r.a.createElement("div",{className:_.a.color,style:{backgroundColor:a}}),c)},b=a(9),x=a(10),E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(b.a)(this,e),this.prefix="",this.prefix=t+"_"}return Object(x.a)(e,[{key:"_get",value:function(e){return localStorage.getItem(this.prefix+e)}},{key:"_put",value:function(e,t){localStorage.setItem(this.prefix+e,t)}},{key:"has",value:function(e){return null!==this._get(e)}},{key:"remove",value:function(e){localStorage.removeItem(this.prefix+e)}},{key:"get",value:function(e,t){var a=JSON.parse(this._get(e));return a&&a.hasOwnProperty("value")?a.value:t}},{key:"put",value:function(e,t){this._put(e,JSON.stringify({time:Date.now(),value:t}))}},{key:"time",value:function(e){return JSON.parse(this._get(e)).time}},{key:"fresh",value:function(e,t){return this.has(e)&&this.time(e)>t}}]),e}(),O=(new E("xs"),a(11)),j=a.n(O),k=function(e){var t=e.children,a=e.className;return r.a.createElement("div",{className:g()(a,j.a.glass)},t)},y={image:"",author:{text:"Nadegda Davlichina",color:"black"},name:{text:"Test pattern",color:"black"},back:{color:"rgba(255,255,0,.5)",image:""},size:"45x45",colors:{text:"\u041f\u0430\u043b\u0438\u0442\u0440\u0430 DMS",color:"black"}};function C(){var e=Object(n.useMemo)((function(){return new E("xs")}),[]),t=Object(n.useState)(e.get("test",y)),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)("0"),m=Object(u.a)(s,2),f=m[0],v=m[1],g=6*Math.random()-3;return Object(n.useEffect)((function(){e.put("test",c)}),[c]),Object(n.useEffect)((function(){var e=window.innerWidth/720,t=window.innerHeight/1280;v(Math.min(e,t).toFixed(2))}),[]),r.a.createElement("div",{id:"cover",className:l.a.coverContainer,style:{transform:"scale(".concat(f,")")}},r.a.createElement(h,{image:c.back.image,className:l.a.cover,onChange:function(e){return o(Object(i.a)({},c,{back:Object(i.a)({},c.back,{image:e})}))}}),r.a.createElement(k,{className:l.a.authorGlass},r.a.createElement(p,{text:c.author,className:l.a.author,onSave:function(e){return o(Object(i.a)({},c,{author:e}))}})),r.a.createElement("div",{className:l.a.palaroid,style:{transform:"rotate(".concat(g,"deg)")}},r.a.createElement(h,{image:c.image,className:l.a.mainImage,onChange:function(e){return o(Object(i.a)({},c,{image:e}))}}),r.a.createElement(p,{text:c.name,className:l.a.name,onSave:function(e){return o(Object(i.a)({},c,{name:e}))}})))}var N=a(12),w=a.n(N),S=a(13),I=a.n(S);var D=function(){return r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement("button",{onClick:function(){I()(document.querySelector("#cover"),{scrollX:0,scrollY:-window.scrollY}).then((function(e){!function(e,t){var a=document.createElement("a");a.href=e,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}(e.toDataURL(),"cover.png")}))},className:w.a.print},"Print"))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.9394dc54.chunk.js.map